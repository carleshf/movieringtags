<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="data.js" charset="utf-8"></script>
    <script src="functions.js" charset="utf-8"></script>
</head>
<body>
</body>
<script>




var body = d3.select('body');
var svg = body.append('svg')
	.attr('width', 800)
	.attr('height', 1000);


// //Container for the gradients
var defs = svg.append("defs");

//Filter for the outside glow
var filter = defs.append("filter")
    .attr("id","glow");
filter.append("feGaussianBlur")
    .attr("stdDeviation","1.5")
    .attr("result","coloredBlur");
var feMerge = filter.append("feMerge");
feMerge.append("feMergeNode")
    .attr("in","coloredBlur");
//feMerge.append("feMergeNode")
//    .attr("in","SourceGraphic");



var px = 50;
var py = 50;
matrix.data.forEach( (movie, idx, array) => {
    console.log(px + ' / ' + movie.title);
    var clr = movie.category.map(category_to_color).filter((color) => 'black');
    console.log(clr);
    draw_shadow(px, py, 15, color = clr);
    draw_circles(px, py, 5, 15, movie.title);
    if (idx < array.length - 1) { 
        draw_line(px + 40, py, 1);
    }
    px += 100;
});


var px = 50;
var py = 150;
sherlock.data.forEach( (movie, idx, array) => {
    console.log(px + ' / ' + movie.title)
    var clr = movie.category.map(category_to_color);
    console.log(clr);
    draw_shadow(px, py, 15, color = clr);
    draw_circles(px, py, 4, 15, movie.title);
    if (idx < array.length - 1) { 
        draw_line(px + 40, py, 1);
    }
    px += 100;
});


var px = 50;
var py = 250;
lord_of_rigs.data.forEach( (movie, idx, array) => {
    console.log(px + ' / ' + movie.title)
    var clr = movie.category.map(category_to_color);
    console.log(clr);
    draw_shadow(px, py, 15, color = clr);
    draw_circles(px, py, 3, 15, movie.title);
    if (idx < array.length - 1) { 
        draw_line(px + 40, py, 1);
    }
    px += 100;
});



var px = 50;
var py = 350;
starwars.data.forEach( (movie, idx, array) => {
    console.log(px + ' / ' + movie.title)
    var clr = movie.category.map(category_to_color);
    console.log(clr);
    draw_shadow(px, py, 15, color = clr);
    draw_circles(px, py, 3, 15, movie.title);
    if (idx < array.length - 1) { 
        draw_line(px + 40, py, 1);
    }
    px += 100;
});


var px = 50;
var py = 450;
back_to_future.data.forEach( (movie, idx, array) => {
    console.log(px + ' / ' + movie.title)
    var clr = movie.category.map(category_to_color);
    console.log(clr);
    draw_shadow(px, py, 15, color = clr);
    draw_circles(px, py, 3, 15, movie.title);
    if (idx < array.length - 1) { 
        draw_line(px + 40, py, 1);
    }
    px += 100;
});



var px = 50;
var py = 550;
die_hard.data.forEach( (movie, idx, array) => {
    console.log(px + ' / ' + movie.title)
    var clr = movie.category.map(category_to_color);
    console.log(clr);
    draw_shadow(px, py, 15, color = clr);
    draw_circles(px, py, 3, 15, movie.title);
    if (idx < array.length - 1) { 
        draw_line(px + 40, py, 1);
    }
    px += 100;
});







//Apply to your element(s)
d3.selectAll(".class-of-elements")
    .style("filter", "url(#glow)");





</script>